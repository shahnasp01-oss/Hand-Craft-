<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Product Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f1f3f6;
}
.container{
  max-width:420px;
  margin:15px auto;
  background:#fff;
  padding:15px;
  border-radius:14px;
  box-shadow:0 10px 20px rgba(0,0,0,.15);
}
.product-img{
  width:100%;
  height:260px;
  object-fit:cover;
  border-radius:12px;
  border:5px solid #eaeaea;
  cursor:zoom-in;
}
h2{margin:12px 0 6px}
.price{font-size:18px;font-weight:bold;color:#2874f0}
.desc{color:#555}

button{
  width:100%;
  margin-top:18px;
  padding:15px;
  background:#2874f0;
  color:white;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}
.back{
  display:block;
  text-align:center;
  margin-top:12px;
  text-decoration:none;
  color:#2874f0;
}

/* ===== IMAGE VIEWER ===== */
.viewer{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.viewer img{
  max-width:95%;
  max-height:90%;
  transform:scale(1);
  transition:.3s;
  cursor:zoom-in;
}
.close{
  position:absolute;
  top:15px;
  right:20px;
  color:white;
  font-size:28px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">
  <img id="pImg" class="product-img" onclick="openViewer()">
  <h2 id="pName"></h2>
  <div class="price" id="pPrice"></div>
  <p class="desc">Handmade product crafted with love.</p>

  <button onclick="goCheckout()">Buy Now</button>
  <a href="index.html" class="back">⬅ Back to Products</a>
</div>

<!-- IMAGE VIEWER -->
<div class="viewer" id="viewer" onclick="closeViewer(event)">
  <span class="close">✕</span>
  <img id="viewerImg" onclick="zoomImage(event)">
</div>

<script>
const params = new URLSearchParams(window.location.search);

pImg.src = params.get("img");
pName.innerText = params.get("name");
pPrice.innerText = params.get("price");

let zoom = 1;

function openViewer(){
  viewer.style.display="flex";
  viewerImg.src = pImg.src;
  zoom = 1;
  viewerImg.style.transform="scale(1)";
}

function closeViewer(e){
  if(e.target.id==="viewer" || e.target.className==="close"){
    viewer.style.display="none";
  }
}

function zoomImage(e){
  e.stopPropagation();
  zoom = zoom === 1 ? 2 : 1;
  viewerImg.style.transform = `scale(${zoom})`;
  viewerImg.style.cursor = zoom === 1 ? "zoom-in" : "zoom-out";
}

function goCheckout(){
  window.location.href =
  "checkout.html?img="+encodeURIComponent(params.get("img"))+
  "&name="+encodeURIComponent(params.get("name"))+
  "&price="+encodeURIComponent(params.get("price"));
}
</script>

</body>
</html>
